cmake_minimum_required(VERSION 2.6)

project(CHANGEME C)

add_executable(CHANGEME)

add_library(arithmetic SHARED arithmetic.c arithmetic.h)

install (
	TARGETS arithmetic
	LIBRARY DESTINATION lib
	ARCHIVE DESTINATION lib
	RUNTIME DESTINATION bin
)

install (
	FILES arithmetic.h
	DESTINATION include
)


# Tests
add_executable(test-gcd test-gcd.c)
add_dependencies(test-gcd arithmetic)
target_link_libraries(test-gcd arithmetic)
enable_testing()
add_test(test-gcd ./test-gcd)
