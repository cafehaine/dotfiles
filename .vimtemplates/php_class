<?php

class CHANGEME {
	//attributes
	private $_foo;

	public function __construct(array $data) {
		$this->hydrate($data);
	}

	private function hydrate(array $data) {
		foreach ($data as $key => $value) {
			$method = 'set'.ucfirst($key);
			
			if (method_exists($this, $method)) {
				$this->$method($value);
			} else {
				throw new InvalidArgumentException("The argument $key does not exist");
			}
		}
	}

	public function setFoo($f) { $this->_foo=$f; }

	public function getFoo() { return $this->_foo; }

	public function __toString() {
		return "foo: '$this->_foo'";
	}
}
?>
